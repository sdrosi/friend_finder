<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Friend Finder | Home</title>
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
   <script src="https://code.jquery.com/jquery.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
 
</head>
<body>
    <div class="container">
            <p class="lead">Survey Questions</p>
            <hr>
            <p>About You</p>
            <form>
                <!--name input-->
                <div class="form-group">
                      <label for="formGroupExampleInput">Your Name</label>
                      <input type="text" class="form-control" id="nameInput" placeholder="Johnny Pupperson">
                </div>
                <!--photo input-->
                <div class="form-group">
                  <label for="formGroupExampleInput2">A Photo of You</label>
                  <input type="text" class="form-control" id="photoInput" placeholder="pups.jpg">
                </div>                  
            </form>
            <hr>
                <!--question 1-->
            <form>
            <label for="questionInputOne">I love live music.</label>
            <select class="form-control" id="inputOne">
                <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                </div>
            </select>
               <!--question 2-->
               <label for="questionInputTwo">I lived here before it was cool.</label>
               <select class="form-control" id="inputTwo">
                   <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                   </div>
               </select>
                  <!--question 3-->
            <label for="questionInputThree">Coding is easier with a mustache.</label>
            <select class="form-control" id="inputThree">
                <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                </div>
            </select>
               <!--question 4-->
               <label for="questionInputFour">My street has more breweries than homes.</label>
               <select class="form-control" id="inputFour">
                   <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                   </div>
               </select>
                  <!--question 5-->
            <label for="questionInputFive">Dogs are objectively greater than cats.</label>
            <select class="form-control" id="inputFive">
                <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                </div>
            </select>
               <!--question 6-->
               <label for="questionInputSix">French fries are better with malt vinegar</label>
               <select class="form-control" id="inputSix">
                   <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                   </div>
               </select>
                  <!--question 7-->
            <label for="questionInputSeven">Perrier > La Croix > San Pellegrino</label>
            <select class="form-control" id="inputSeven">
                <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                </div>
            </select>
               <!--question 8-->
               <label for="questionInputEight">Wine tastes better with cheese</label>
               <select class="form-control" id="inputEight">
                   <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                   </div>
               </select>
                  <!--question 9-->
            <label for="questionInputNine">Beer tastes better with more beer</label>
            <select class="form-control" id="inputNine">
                <div class="form-group">
                    <option value="1">1 (strongly disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (strongly agree)</option>
                </div>
            </select>
               <!--question 10-->
               <label for="questionInputTen">I have a pair of glasses for every mood.</label>
               <select class="form-control" id="inputTen">
                   <div class="form-group">
                           <option value="1">1 (strongly disagree)</option>
                           <option value="2">2</option>
                           <option value="3">3</option>
                           <option value="4">4</option>
                           <option value="5">5 (strongly agree)</option>
                   </div>
               </select>
               <div class="col-auto my-1">
                    <button type="submit" class="btn btn-primary" id="submit">Submit</button>
                  </div>
              </form>
              </div>

                
            <div id="results-modal" class="modal" role="dialog">
            <div class="modal-dialog">

 
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Best Match</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="match-name"></h2>
          <img id="match-photo" src="" alt="">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
    </div>
  </div> 

                <!--JQUERY Event Handler Nonsense-->

                <script type="text/javascript">
                    $(document).ready(function() {
                        $("#submit").on("click", function(event) { 
                            event.preventDefault();  
                            var scoresArray = [];
                            var inputOne =$("#inputOne").val()
                            var inputTwo =$("#inputTwo").val()
                            var inputThree =$("#inputThree").val()
                            var inputFour =$("#inputFour").val()
                            var inputFive =$("#inputFive").val()
                            var inputSix =$("#inputSix").val()
                            var inputSeven =$("#inputSeven").val()
                            var inputEight =$("#inputEight").val()
                            var inputNine =$("#inputNine").val()
                            var inputTen =$("#inputTen").val()
                            scoresArray = [inputOne, inputTwo, inputThree, inputFour, inputFive, inputSix, inputSeven, inputEight, inputNine, inputTen]
                            var b = scoresArray.map(Number);
                            console.log(b);
                            var newCharacter = {
                            name: $("#nameInput").val(),
                            photo: $("#photoInput").val(),
                            scores: b
                            };
                            console.log(newCharacter)
                           

                            $.post("/api/friends", newCharacter)
                            .then( function(data) {
                                $("#match-name").text(data.name)
                                $("#match-photo").attr("src", data.picture)
                                
                                console.log("survey.html", data)
                                alert("Adding character...")
                                });

                            $(".modal").modal();
                            
                        })});
                    
                    </script>
             </body>
                    
</html>
             